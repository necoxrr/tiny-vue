{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{basename,dirname,resolve}from\"path\";import{promises as fs}from\"fs\";import{fileURLToPath}from\"url\";import fg from\"fast-glob\";import chalk from\"chalk\";async function run(){const files=await fg(\"*.cjs\",{ignore:[\"chunk-*\"],absolute:true,cwd:resolve(dirname(fileURLToPath(import.meta.url)),\"../dist\")});for(const file of files){console.log(chalk.cyan.inverse(\" POST \"),`Fix ${basename(file)}`);let code=await fs.readFile(file,\"utf8\");code=code.replace(\"exports.default =\",\"module.exports =\");code+=\"exports.default = module.exports;\";await fs.writeFile(file,code)}}__name(run,\"run\");void run();\n","warnings":[],"map":{"version":3,"mappings":"kHACA,OAAS,SAAU,QAAS,YAAe,OAC3C,OAAS,YAAY,OAAU,KAC/B,OAAS,kBAAqB,MAC9B,OAAO,OAAQ,YACf,OAAO,UAAW,QAElB,eAAe,KAAM,CAEnB,MAAM,MAAQ,MAAM,GAAG,QAAS,CAC9B,OAAQ,CAAC,SAAS,EAClB,SAAU,KACV,IAAK,QAAQ,QAAQ,cAAc,YAAY,GAAG,CAAC,EAAG,SAAS,CACjE,CAAC,EACD,UAAW,QAAQ,MAAO,CACxB,QAAQ,IAAI,MAAM,KAAK,QAAQ,QAAQ,EAAG,OAAO,SAAS,IAAI,CAAC,EAAE,EACjE,IAAI,KAAO,MAAM,GAAG,SAAS,KAAM,MAAM,EACzC,KAAO,KAAK,QAAQ,oBAAqB,kBAAkB,EAC3D,MAAQ,oCACR,MAAM,GAAG,UAAU,KAAM,IAAI,CAC/B,CACF,CAde,kBAgBf,KAAK,IAAI","names":[],"sources":["/root/vue-project/tiny-vue/internals/unplugin-virtual-template/scripts/postbuild.ts"],"sourcesContent":["/* eslint-disable no-console */\nimport { basename, dirname, resolve } from 'path'\nimport { promises as fs } from 'fs'\nimport { fileURLToPath } from 'url'\nimport fg from 'fast-glob'\nimport chalk from 'chalk'\n\nasync function run() {\n  // fix cjs exports\n  const files = await fg('*.cjs', {\n    ignore: ['chunk-*'],\n    absolute: true,\n    cwd: resolve(dirname(fileURLToPath(import.meta.url)), '../dist')\n  })\n  for (const file of files) {\n    console.log(chalk.cyan.inverse(' POST '), `Fix ${basename(file)}`)\n    let code = await fs.readFile(file, 'utf8')\n    code = code.replace('exports.default =', 'module.exports =')\n    code += 'exports.default = module.exports;'\n    await fs.writeFile(file, code)\n  }\n}\n\nvoid run()\n"]}}